!function e(t,a,i){function s(n,r){if(!a[n]){if(!t[n]){var l="function"==typeof require&&require;if(!r&&l)return l(n,!0);if(o)return o(n,!0);var d=new Error("Cannot find module '"+n+"'");throw d.code="MODULE_NOT_FOUND",d}var m=a[n]={exports:{}};t[n][0].call(m.exports,function(e){var a=t[n][1][e];return s(a?a:e)},m,m.exports,e,t,a,i)}return a[n].exports}for(var o="function"==typeof require&&require,n=0;n<i.length;n++)s(i[n]);return s}({1:[function(e){function t(){socket=io("https://limitless-brook-9339.herokuapp.com:443"),e("./game/mods/phaser_enhancements"),game.state.add("Boot",e("./game/states/boot")),game.state.add("Preloader",e("./game/states/preloader")),game.state.add("Lobby",e("./game/states/lobby")),game.state.add("StageSelect",e("./game/states/stage_select")),game.state.add("PendingGame",e("./game/states/pending_game")),game.state.add("Level",e("./game/states/level")),game.state.add("GameOver",e("./game/states/game_over")),game.state.start("Boot")}window.game=new Phaser.Game(600,600,Phaser.AUTO,""),window.player=null,window.socket=null,window.level=null,t()},{"./game/mods/phaser_enhancements":6,"./game/states/boot":7,"./game/states/game_over":8,"./game/states/level":9,"./game/states/lobby":10,"./game/states/pending_game":11,"./game/states/preloader":12,"./game/states/stage_select":13}],2:[function(e,t){var a=e("../util/audio_player"),i=function(e,t,a){Phaser.Sprite.call(this,game,e,t,"bomb"),this.id=a,this.anchor.setTo(.5,.5),game.physics.enable(this,Phaser.Physics.ARCADE),this.body.immovable=!0,game.add.existing(this)};i.prototype=Object.create(Phaser.Sprite.prototype),i.renderExplosion=function(e){e.forEach(function(e){var t=new Phaser.Sprite(game,e.x,e.y,e.key,0);t.anchor.setTo(.5,.5),t.animations.add("explode"),t.animations.getAnimation("explode").onComplete.add(function(){level.deadGroup.push(this)},t),e.hide?game.world.addAt(t,1):game.world.add(t),t.play("explode",17,!1),a.playBombSound()})},t.exports=i},{"../util/audio_player":14}],3:[function(e,t){var a=(e("./bomb"),180),i=60,s=function(e,t,i,s){Phaser.Sprite.call(this,game,e,t,"bomberman_"+s),this.id=i,this.facing="down",this.anchor.setTo(.5,.5),this.bombButtonJustPressed=!1,this.speed=a,game.physics.enable(this,Phaser.Physics.ARCADE),this.body.setSize(15,16,1,15),this.animations.add("down",[0,1,2,3,4],10,!0),this.animations.add("up",[5,6,7,8,9],10,!0),this.animations.add("right",[10,11,12],10,!0),this.animations.add("left",[13,14,15],10,!0),game.add.existing(this)};s.prototype=Object.create(Phaser.Sprite.prototype),s.prototype.handleInput=function(){this.handleMotionInput(),this.handleBombInput()},s.prototype.handleMotionInput=function(){var e=!0;game.physics.arcade.collide(this,level.blockLayer),game.physics.arcade.collide(this,level.bombs),game.input.keyboard.isDown(Phaser.Keyboard.LEFT)?(this.body.velocity.y=0,this.body.velocity.x=-this.speed,this.facing="left"):game.input.keyboard.isDown(Phaser.Keyboard.RIGHT)?(this.body.velocity.y=0,this.body.velocity.x=this.speed,this.facing="right"):game.input.keyboard.isDown(Phaser.Keyboard.UP)?(this.body.velocity.x=0,this.body.velocity.y=-this.speed,this.facing="up"):game.input.keyboard.isDown(Phaser.Keyboard.DOWN)?(this.body.velocity.x=0,this.body.velocity.y=this.speed,this.facing="down"):(e=!1,this.freeze()),e&&(this.animations.play(this.facing),socket.emit("move player",{x:this.position.x,y:this.position.y,facing:this.facing}))},s.prototype.handleBombInput=function(){!game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)||game.physics.arcade.overlap(this,level.bombs)||this.bombButtonJustPressed?!game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)&&this.bombButtonJustPressed&&(this.bombButtonJustPressed=!1):(this.bombButtonJustPressed=!0,socket.emit("place bomb",{x:this.body.position.x,y:this.body.position.y,id:game.time.now}))},s.prototype.freeze=function(){this.body.velocity.x=0,this.body.velocity.y=0,this.animations.stop()},s.prototype.applySpeedPowerup=function(){this.speed+=i},t.exports=s},{"./bomb":2}],4:[function(e,t){var a=100,i=function(e,t,a,i){this.id=a,this.previousPosition={x:e,y:t},this.lastMoveTime=0,this.targetPosition,Phaser.Sprite.call(this,game,e,t,"bomberman_"+i),game.physics.enable(this,Phaser.Physics.ARCADE),this.anchor.setTo(.5,.5),this.animations.add("down",[0,1,2,3,4],10,!0),this.animations.add("up",[5,6,7,8,9],10,!0),this.animations.add("right",[10,11,12],10,!0),this.animations.add("left",[13,14,15],10,!0),game.add.existing(this)};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.interpolate=function(e){if(this.distanceToCover&&e)if(this.distanceCovered.x<Math.abs(this.distanceToCover.x)||this.distanceCovered.y<Math.abs(this.distanceToCover.y)){var t=(game.time.now-e)/a,i=t*this.distanceToCover.x,s=t*this.distanceToCover.y;this.distanceCovered.x+=Math.abs(i),this.distanceCovered.y+=Math.abs(s),this.position.x+=i,this.position.y+=s}else this.position.x=this.targetPosition.x,this.position.y=this.targetPosition.y},t.exports=i},{}],5:[function(e,t){function a(e,t,a){Phaser.Group.call(this,e);var s=e.add.image(o,n,"round_end_display"),d=e.add.text(r,l,"Round "+t+" Complete!");i.configureText(d,"white",32);var m=a.length>1?h-55:h,g=a.length>1?u:c,b=e.add.text(m,p,g);i.configureText(b,"white",28),b.alpha=0,this.add(s),this.add(d),this.add(b),this.createAndAddWinnerImages(a)}var i=e("../util/text_configurer"),s=game.width,o=100-s,n=60,r=150-s,l=65,d=225-s,m=310,h=220-s,p=220,c="Winner is...",u="Draw! Winners are...";a.prototype=Object.create(Phaser.Group.prototype),a.prototype.createAndAddWinnerImages=function(e){this.winnerImageIndices=[];var t=3;e.forEach(function(e){var a=new Phaser.Image(game,d,m,"bomberman_head_"+e);a.scale={x:1.75,y:1.75},a.alpha=0,game.add.existing(a),this.add(a),this.winnerImageIndices.push(t++)},this)},a.prototype.beginAnimation=function(e){var t=game.add.tween(this);t.to({x:s},300),t.onComplete.addOnce(function(){a.start()},this);var a=game.add.tween(this.children[2]);a.to({alpha:1},800),a.onComplete.addOnce(function(){o.start()},this);var i=game.add.tween(this);i.to({x:2*s},300,Phaser.Easing.Default,!1,200),i.onComplete.addOnce(function(){e(),this.destroy()},this);var o=this.generateWinnerImageTween(this.winnerImageIndices,i);t.start()},a.prototype.generateWinnerImageTween=function(e,t){for(var a=[],i=this,s=0;s<e.length;s++)!function(o){var n=game.add.tween(i.children[e[o]]);n.to({alpha:1},900),s<e.length-1?(n.to({alpha:0},900),n.onComplete.addOnce(function(){a[o+1].start()})):n.onComplete.addOnce(function(){t.start()},i),a.push(n)}(s);return a[0]},t.exports=a},{"../util/text_configurer":16}],6:[function(){Phaser.Group.prototype.removeAll=function(e,t){if("undefined"==typeof e&&(e=!1),"undefined"==typeof t&&(t=!1),0!==this.children.length){var a=0;do{this.children[a].doNotDestroy&&a++,!t&&this.children[a].events&&this.children[a].events.onRemovedFromGroup.dispatch(this.children[a],this);var i=this.removeChild(this.children[a]);e&&i&&i.destroy(!0)}while(this.children.length>a);this.cursor=null}}},{}],7:[function(e,t){var a=e("../util/audio_player"),i=function(){};t.exports=i,i.prototype={preload:function(){},create:function(){game.stage.disableVisibilityChange=!0,game.input.maxPointers=1,a.initialize(),game.device.desktop?game.stage.scale.pageAlignHorizontally=!0:(game.stage.scaleMode=Phaser.StageScaleMode.SHOW_ALL,game.stage.scale.minWidth=480,game.stage.scale.minHeight=260,game.stage.scale.maxWidth=640,game.stage.scale.maxHeight=480,game.stage.scale.forceLandscape=!0,game.stage.scale.pageAlignHorizontally=!0,game.stage.scale.setScreenSize(!0)),game.state.start("Preloader")}}},{"../util/audio_player":14}],8:[function(e,t){function a(){}var i=e("../util/text_configurer");a.prototype={init:function(e,t){this.winnerColor=e,this.winByDefault=t},create:function(){var e=this.winByDefault?"No other players remaining.\n       You win by default.":"Game Over. Winner: "+this.winnerColor,t=game.add.text(game.camera.width/2,game.camera.height/2,e);t.anchor.setTo(.5,.5),i.configureText(t,"white",28)}},t.exports=a},{"../util/text_configurer":16}],9:[function(e,t){var a="#000000",i=40,s=e("../../../../common/powerup_ids"),o=e("../util/audio_player"),n=e("../entities/player"),r=e("../entities/remoteplayer"),l=e("../entities/bomb"),d=e("../entities/round_end_animation"),m=e("../util/powerup_image_keys"),h={},p=!0,c=function(){};t.exports=c,c.prototype={init:function(e,t,a){this.tilemapName=e,this.players=t,this.playerId=a},setEventHandlers:function(){socket.on("disconnect",this.onSocketDisconnect),socket.on("move player",this.onMovePlayer),socket.on("remove player",this.onRemovePlayer.bind(this)),socket.on("kill player",this.onKillPlayer),socket.on("place bomb",this.onPlaceBomb),socket.on("detonate",this.onDetonate.bind(this)),socket.on("new round",this.onNewRound.bind(this)),socket.on("end game",this.onEndGame.bind(this)),socket.on("powerup acquired",this.onPowerupAcquired.bind(this))},create:function(){level=this,this.lastFrameTime,this.deadGroup=[],this.initializeMap(),this.bombs=game.add.group(),this.items={},game.physics.enable(this.bombs,Phaser.Physics.ARCADE),game.physics.arcade.enable(this.blockLayer),this.setEventHandlers(),this.initializePlayers(),this.createDimGraphic(),this.beginRoundAnimation("round_1")},createDimGraphic:function(){this.dimGraphic=game.add.graphics(0,0),this.dimGraphic.alpha=.7,this.dimGraphic.beginFill(a,1),this.dimGraphic.drawRect(0,0,game.camera.width,game.camera.height),this.dimGraphic.endFill()},restartGame:function(){this.dimGraphic.destroy(),player.alive&&player.destroy();for(var e in h){var t=h[e];t.alive&&t.destroy()}h={},player=null,this.deadGroup=[],this.lastFrameTime,this.tearDownMap(),this.initializeMap(),this.bombs.destroy(!0),this.destroyItems(),this.bombs=game.add.group(),this.initializePlayers(),p=!1,socket.emit("ready for round")},destroyItems:function(){for(var e in this.items)this.items[e].destroy();this.items={}},onNewRound:function(e){this.createDimGraphic();var t=new d(game,e.completedRoundNumber,e.roundWinnerColors);p=!0;var a;a=e.completedRoundNumber<2?"round_"+(e.completedRoundNumber+1):2==e.completedRoundNumber?"final_round":"tiebreaker",t.beginAnimation(this.beginRoundAnimation.bind(this,a,this.restartGame.bind(this)))},onEndGame:function(e){this.createDimGraphic(),p=!0;var t=new d(game,e.completedRoundNumber,e.roundWinnerColors);t.beginAnimation(function(){game.state.start("GameOver",!0,!1,e.gameWinnerColor,!1)})},beginRoundAnimation:function(e,t){var a=game.add.image(-600,game.camera.height/2,e);a.anchor.setTo(.5,.5);var i=game.add.tween(a);i.to({x:game.camera.width/2},300).to({x:1e3},300,Phaser.Easing.Default,!1,800).onComplete.add(function(){this.dimGraphic.destroy(),a.destroy(),p=!1,t&&t()},this),i.start()},update:function(){if(1==Object.keys(this.players).length&&game.state.start("GameOver",!0,!1,null,!0),null!=player&&1==player.alive)if(p)player.freeze();else{player.handleInput();for(var e in this.items){var t=this.items[e];game.physics.arcade.overlap(player,t,function(){socket.emit("powerup overlap",{x:t.x,y:t.y})})}}this.stopAnimationForMotionlessPlayers(),this.storePreviousPositions();for(var a in h)h[a].interpolate(this.lastFrameTime);this.lastFrameTime=game.time.now,this.destroyDeadSprites()},destroyDeadSprites:function(){level.deadGroup.forEach(function(e){e.destroy()})},render:function(){1==window.debugging&&game.debug.body(player)},storePreviousPositions:function(){for(var e in h)remotePlayer=h[e],remotePlayer.previousPosition={x:remotePlayer.position.x,y:remotePlayer.position.y}},stopAnimationForMotionlessPlayers:function(){for(var e in h)remotePlayer=h[e],remotePlayer.lastMoveTime<game.time.now-200&&remotePlayer.animations.stop()},onSocketDisconnect:function(){console.log("Disconnected from socket server."),this.broadcast.emit("remove player",{id:this.id})},initializePlayers:function(){for(var e in this.players){var t=this.players[e];t.id==this.playerId?player=new n(t.x,t.y,t.id,t.color):h[t.id]=new r(t.x,t.y,t.id,t.color)}},tearDownMap:function(){this.map.destroy(),this.groundLayer.destroy(),this.blockLayer.destroy()},initializeMap:function(){this.map=game.add.tilemap(this.tilemapName),this.map.addTilesetImage("tilez","tiles",40,40),this.groundLayer=this.map.createLayer("Ground"),this.groundLayer.resizeWorld(),this.blockLayer=this.map.createLayer("Blocks"),this.blockLayer.resizeWorld(),this.map.setCollision([127,361],!0,"Blocks");var e=game.cache.getTilemapData("levelOne").data.layers[1];socket.emit("register map",{tiles:e.data,height:e.height,width:e.width,destructibleTileId:361})},onMovePlayer:function(e){if(!(player&&e.id==player.id||p)){var t=h[e.id];if(t.targetPosition){if(e.x==t.targetPosition.x&&e.y==t.targetPosition.y)return;t.animations.play(e.facing),t.position.x=t.targetPosition.x,t.position.y=t.targetPosition.y,t.distanceToCover={x:e.x-t.targetPosition.x,y:e.y-t.targetPosition.y},t.distanceCovered={x:0,y:0}}t.targetPosition={x:e.x,y:e.y},t.lastMoveTime=game.time.now}},onRemovePlayer:function(e){var t=h[e.id];t.destroy(),delete h[e.id],delete this.players[e.id]},onKillPlayer:function(e){if(e.id==player.id)console.log("You've been killed."),player.destroy();else{var t=h[e.id];t.destroy(),delete h[e.id]}},onPlaceBomb:function(e){level.bombs.add(new l(e.x,e.y,e.id))},onDetonate:function(e){l.renderExplosion(e.explosions),level.bombs.forEach(function(t){t&&t.id==e.id&&t.destroy()},level),e.destroyedTiles.forEach(function(e){this.map.removeTile(e.col,e.row,1),e.itemId&&this.generateItemEntity(e.itemId,e.row,e.col)},this)},onPowerupAcquired:function(e){this.items[e.powerupId].destroy(),delete this.items[e.powerupId],e.acquiringPlayerId===player.id&&(o.playPowerupSound(),e.powerupType==s.SPEED&&player.applySpeedPowerup())},generateItemEntity:function(e,t,a){var s=m[e],o=new Phaser.Sprite(game,a*i,t*i,s);game.physics.enable(o,Phaser.Physics.ARCADE),this.items[t+"."+a]=o,game.world.addAt(o,2)}}},{"../../../../common/powerup_ids":17,"../entities/bomb":2,"../entities/player":3,"../entities/remoteplayer":4,"../entities/round_end_animation":5,"../util/audio_player":14,"../util/powerup_image_keys":15}],10:[function(e,t){var a,i=function(){},s=e("../util/text_configurer"),o=130,n=40,r=60,l=260,d=25;t.exports=i,i.prototype={init:function(e){a=e},create:function(){this.stateSettings={empty:{outFrame:0,overFrame:1,text:"Host Game ",callback:this.hostGameAction},joinable:{outFrame:2,overFrame:3,text:"Join Game ",callback:this.joinGameAction},settingup:{outFrame:4,overFrame:5,text:"Game is being set up... ",callback:null},inprogress:{outFrame:4,overFrame:5,text:"Game in Progress ",callback:null},full:{outFrame:4,overFrame:5,text:"Game Full ",callback:null}},null==a&&(a=game.add.tileSprite(0,0,608,608,"repeating_bombs")),a.doNotDestroy=!0,this.backdrop=game.add.image(12.5,12.5,"lobby_backdrop"),this.slots=[],this.labels=[];socket.emit("enter lobby"),socket.hasListeners("add slots")||(socket.on("add slots",this.addSlots.bind(this)),socket.on("update slot",this.updateSlot.bind(this)))},update:function(){a.tilePosition.x++,a.tilePosition.y--},addSlots:function(e){if(!(this.slots.length>0))for(var t=0;t<e.length;t++){var a=null,i=e[t].state,m=this.stateSettings[i];!function(e,t){null!=t&&(a=function(){t(e)})}(t,m.callback);var h=o+t*r;this.slots[t]=game.add.button(n,h,"game_slot",a,null,m.overFrame,m.outFrame);var p=game.add.text(n+l,h+d,m.text);s.configureText(p,"white",18),p.anchor.setTo(.5,.5),this.labels[t]=p}},hostGameAction:function(e){socket.emit("host game",{gameId:e}),socket.removeAllListeners(),game.state.start("StageSelect",!0,!1,e,a)},joinGameAction:function(e){socket.removeAllListeners(),game.state.start("PendingGame",!0,!1,null,e,a)},updateSlot:function(e){var t=this.stateSettings[e.newState],a=e.gameId,i=this.slots[a];this.labels[a].setText(t.text),i.setFrames(t.overFrame,t.outFrame),i.onInputUp.removeAll(),i.onInputUp.add(function(){return t.callback(a)},this)}}},{"../util/text_configurer":16}],11:[function(e,t){var a=e("../util/text_configurer"),i=function(){};t.exports=i;var s,o=40,n=50,r=330,l=400,d=450,m=330,h=80,p=105,c=100,u=4.5,g=4.5,b=80,y=400,f=6;i.prototype={init:function(e,t,a){this.tilemapName=e,this.gameId=t,s=a},create:function(){socket.emit("enter pending game",{gameId:this.gameId});game.add.image(o,n,"pending_game_backdrop");this.startGameButton=game.add.button(r,l,"start_game_button",null,this,2,2),this.leaveGameButton=game.add.button(r,d,"leave_game_button",this.leaveGameAction,null,1,0),this.characterSquares=this.drawCharacterSquares(4),this.characterImages=[],this.numPlayersInGame=0,this.minPlayerMessage=game.add.text(b,y,"Cannot start game without\nat least 2 players."),a.configureText(this.minPlayerMessage,"red",17),this.minPlayerMessage.visible=!1,socket.on("show current players",this.populateCharacterSquares.bind(this)),socket.on("player joined",this.playerJoined.bind(this)),socket.on("player left",this.playerLeft.bind(this)),socket.on("start game on client",this.startGame)},update:function(){s.tilePosition.x++,s.tilePosition.y--},drawCharacterSquares:function(e){for(var t=[],a=h,i=m,s=0;f>s;s++){var o=e>s?0:1;t[s]=game.add.sprite(i,a,"character_square",o),s%2==0?i+=p:(i=m,a+=c)}return t},populateCharacterSquares:function(e){this.numPlayersInGame=0;for(var t in e.players){var a=e.players[t].color;this.characterImages[t]=game.add.image(this.characterSquares[this.numPlayersInGame].position.x+u,this.characterSquares[this.numPlayersInGame].position.y+g,"bomberman_head_"+a),this.numPlayersInGame++}this.numPlayersInGame>1?this.activateStartGameButton():this.minPlayerMessage.visible=!0},playerJoined:function(e){this.numPlayersInGame++;var t=this.numPlayersInGame-1;this.characterImages[e.id]=game.add.image(this.characterSquares[t].position.x+u,this.characterSquares[t].position.y+g,"bomberman_head_"+e.color),2==this.numPlayersInGame&&this.activateStartGameButton()},activateStartGameButton:function(){this.minPlayerMessage.visible=!1,this.startGameButton.setFrames(1,0),this.startGameButton.onInputUp.removeAll(),this.startGameButton.onInputUp.add(this.startGameAction,this)},deactivateStartGameButton:function(){this.minPlayerMessage.visible=!0,this.startGameButton.setFrames(2,2),this.startGameButton.onInputUp.removeAll()},playerLeft:function(e){this.numPlayersInGame--,1==this.numPlayersInGame&&this.deactivateStartGameButton();for(var t in this.characterImages)this.characterImages[t].destroy();this.populateCharacterSquares(e)},startGameAction:function(){socket.emit("start game on server")},leaveGameAction:function(){socket.emit("leave pending game"),socket.removeAllListeners(),game.state.start("Lobby",!0,!1,s)},startGame:function(e){s.doNotDestroy=!1,game.state.start("Level",!0,!1,e.mapName,e.players,this.id)}}},{"../util/text_configurer":16}],12:[function(e,t){var a=function(){};t.exports=a,WebFontConfig={google:{families:["Carter One"]}},a.prototype={preload:function(){this.load.spritesheet("bomberman_white","assets/sprites/bomberman.png",28,50),this.load.spritesheet("bomberman_black","assets/sprites/bomberman_black.png",28,50),this.load.spritesheet("bomberman_blue","assets/sprites/bomberman_blue.png",28,50),this.load.spritesheet("bomberman_red","assets/sprites/bomberman_red.png",28,50),this.load.spritesheet("bomb","assets/sprites/bomb.png",26,40),this.load.spritesheet("explosion_top","assets/sprites/explosion_top.png",30,40),this.load.spritesheet("explosion_bottom","assets/sprites/explosion_bottom.png",30,40),this.load.spritesheet("explosion_left","assets/sprites/explosion_left.png",40,30),this.load.spritesheet("explosion_right","assets/sprites/explosion_right.png",40,30),this.load.spritesheet("explosion_center","assets/sprites/explosion_center.png",30,30),this.load.spritesheet("explosion_horizontal","assets/sprites/explosion_horizontal.png",40,30),this.load.spritesheet("explosion_vertical","assets/sprites/explosion_vertical.png",30,40),this.load.spritesheet("left_select_button","assets/sprites/lobby/left_select_button.png",60,60),this.load.spritesheet("right_select_button","assets/sprites/lobby/right_select_button.png",60,60),this.load.spritesheet("ok_button","assets/sprites/lobby/ok_button.png",60,60),this.load.spritesheet("character_square","assets/sprites/lobby/character_square.png",89,89),this.load.spritesheet("start_game_button","assets/sprites/lobby/start_game_button.png",202,43),this.load.spritesheet("leave_game_button","assets/sprites/lobby/leave_game_button.png",202,43),this.load.spritesheet("game_slot","assets/sprites/lobby/game_slot.png",522,48),this.load.tilemap("levelOne","assets/levels/level_one_blocks.json",null,Phaser.Tilemap.TILED_JSON),this.load.image("tiles","assets/tiles/tileset.png"),this.load.image("select_stage","assets/sprites/lobby/select_stage.png"),this.load.image("limitless_brook_thumbnail","assets/levels/thumbnails/limitless_brook_thumbnail.png"),this.load.image("pending_game_backdrop","assets/sprites/lobby/backdrop.png"),this.load.image("round_end_display","assets/sprites/lobby/end_of_round_window.png"),this.load.image("repeating_bombs","assets/sprites/lobby/repeating_bombs.png"),this.load.image("lobby_backdrop","assets/sprites/lobby/lobby_backdrop.png"),this.load.image("bomberman_head_white","assets/sprites/lobby/bomberman_head.png"),this.load.image("bomberman_head_blue","assets/sprites/lobby/bomberman_head_blue.png"),this.load.image("bomberman_head_green","assets/sprites/lobby/bomberman_head_green.png"),this.load.image("bomberman_head_purple","assets/sprites/lobby/bomberman_head_purple.png"),this.load.image("bomberman_head_red","assets/sprites/lobby/bomberman_head_red.png"),this.load.image("bomberman_head_black","assets/sprites/lobby/bomberman_head_black.png"),this.load.image("bomb_count_powerup","assets/sprites/bomb_count_powerup.png"),this.load.image("bomb_strength_powerup","assets/sprites/bomb_strength_powerup.png"),this.load.image("speed_powerup","assets/sprites/speed_powerup.png"),this.load.image("round_1","assets/sprites/lobby/round_1.png"),this.load.image("round_2","assets/sprites/lobby/round_2.png"),this.load.image("final_round","assets/sprites/lobby/final_round.png"),this.load.image("tiebreaker","assets/sprites/lobby/tiebreaker.png"),this.load.audio("explosion","assets/sounds/bomb.ogg"),this.load.audio("powerup","assets/sounds/powerup.ogg"),game.load.script("webfont","//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js")},create:function(){game.state.start("Lobby")}}},{}],13:[function(e,t){var a=function(){};t.exports=a;var i,s=40,o=50,n=255,r=150,l=328,d=[{name:"Limitless Brook",thumbnailKey:"limitless_brook_thumbnail",tilemapName:"levelOne",maxPlayers:4,size:"small"}];a.prototype={init:function(e,t){i=t,this.gameId=e},create:function(){game.add.image(s,o,"select_stage");this.selectedStage=d[0],this.leftButton=game.add.button(150,180,"left_select_button",null,null,1,0),this.rightButton=game.add.button(400,180,"right_select_button",null,null,1,0),this.okButton=game.add.button(495,460,"ok_button",this.confirmStageSelection,this,1,0),this.loadStageInfo(d[0])},update:function(){i.tilePosition.x++,i.tilePosition.y--},loadStageInfo:function(e){this.thumbnail=game.add.image(n,r,e.thumbnailKey);var t=game.add.text(game.camera.width/2,l,e.name);this.configureText(t,"white",28),t.anchor.setTo(.5,.5);var a=game.add.text(145,390,"Max # of players:   "+e.maxPlayers);this.configureText(a,"white",18);var i=game.add.text(145,420,"Map size:   "+e.size);this.configureText(i,"white",18)},configureText:function(e,t,a){e.font="Carter One",e.fill=t,e.fontSize=a},confirmStageSelection:function(){socket.emit("select stage",{mapName:this.selectedStage.tilemapName}),game.state.start("PendingGame",!0,!1,this.selectedStage.tilemapName,this.gameId,i)}}},{}],14:[function(e,t){var a,i;t.exports={initialize:function(){a=game.add.audio("explosion"),i=game.add.audio("powerup")},playBombSound:function(){a.play()},playPowerupSound:function(){i.play()}}},{}],15:[function(e,t){var a=e("../../../../common/powerup_ids"),i={};i[a.BOMB_STRENGTH]="bomb_strength_powerup",i[a.BOMB_CAPACITY]="bomb_count_powerup",i[a.SPEED]="speed_powerup",t.exports=i},{"../../../../common/powerup_ids":17}],16:[function(e,t,a){a.configureText=function(e,t,a){e.font="Carter One",e.fill=t,e.fontSize=a}},{}],17:[function(e,t){t.exports={BOMB_STRENGTH:5,BOMB_CAPACITY:6,SPEED:7,isAPowerup:function(e){return e===this.BOMB_STRENGTH||e===this.BOMB_CAPACITY||e===this.SPEED}}},{}]},{},[1]);